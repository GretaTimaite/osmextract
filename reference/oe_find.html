<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get the location of files — oe_find • osmextract</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get the location of files — oe_find" />
<meta property="og:description" content="This function takes a place name and it returns the path of .pbf and
.gpkg files associated with it." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">osmextract</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/osmextract.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/providers.html">Add new OpenStreetMap providers</a>
    </li>
    <li>
      <a href="../articles/providers_comparisons.html">Comparing the supported OSM providers</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/osmextract/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get the location of files</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/osmextract/blob/master/R/find.R'><code>R/find.R</code></a></small>
    <div class="hidden name"><code>oe_find.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function takes a <code>place</code> name and it returns the path of <code>.pbf</code> and
<code>.gpkg</code> files associated with it.</p>
    </div>

    <pre class="usage"><span class='fu'>oe_find</span><span class='op'>(</span>
  <span class='va'>place</span>,
  provider <span class='op'>=</span> <span class='st'>"geofabrik"</span>,
  download_directory <span class='op'>=</span> <span class='fu'><a href='oe_download_directory.html'>oe_download_directory</a></span><span class='op'>(</span><span class='op'>)</span>,
  download_if_missing <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>place</th>
      <td><p>Description of the geographical area that should be matched with
a <code>.osm.pbf</code> file through the chosen <code>provider</code>. Can be either a length-1
character vector, an <code>sf</code> or <code>sfc</code> object, or a numeric vector of
coordinates with length 2. In the last case, it is assumed that the EPSG
code is 4326 specified as c(LON, LAT), while you can use any CRS with an
<code>sf</code> or <code>sfc</code> object. See Details and examples in <code><a href='oe_match.html'>oe_match()</a></code>.</p></td>
    </tr>
    <tr>
      <th>provider</th>
      <td><p>Which provider should be used to download the data? Available
providers can be found with the following command: <code><a href='oe_providers.html'>oe_providers()</a></code>. For
<code><a href='oe_get.html'>oe_get()</a></code> and <code><a href='oe_match.html'>oe_match()</a></code>, if <code>place</code> is equal to <code>ITS Leeds</code>, then
<code>provider</code> is set equal to <code>test</code>. This is just for simple examples and
internal testings.</p></td>
    </tr>
    <tr>
      <th>download_directory</th>
      <td><p>Directory where the files downloaded by osmextract
are stored. By default it is equal to <code><a href='oe_download_directory.html'>oe_download_directory()</a></code>.</p></td>
    </tr>
    <tr>
      <th>download_if_missing</th>
      <td><p>Attempt to download the file if it cannot be
found? <code>FALSE</code> by default.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Extra arguments that are passed to <code><a href='oe_match.html'>oe_match()</a></code> and <code><a href='oe_get.html'>oe_get()</a></code>.
Please note that you cannot modify the argument <code>download_only</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The matching between the existing files (saved in a directory
specified by <code>download_directory</code> parameter) and the input <code>place</code> is
performed using <code>list.files</code>, setting a pattern equal to the basename of
the URL associated to the input <code>place</code>. For example, if you specify
<code>place = "Isle of Wight"</code>, then the input <code>place</code> is matched with a URL of
a <code>.osm.pbf</code> file (via <code><a href='oe_match.html'>oe_match()</a></code>) and the matching is performed setting a
pattern equal to the basename of that URL.</p>
<p>If there is no file in <code>download_directory</code> that can be matched with the
basename and <code>download_if_missing</code> parameter is equal to <code>TRUE</code>, then the
function tries to download and translate a new file from the chosen
provider (<code>geofabrik</code> is the default provider). If <code>download_if_missing</code>
parameter is equal to <code>FALSE</code> (default value), then the function stops with
an error.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>res</span> <span class='op'>=</span> <span class='fu'><a href='oe_get.html'>oe_get</a></span><span class='op'>(</span><span class='st'>"ITS Leeds"</span>, provider <span class='op'>=</span> <span class='st'>"test"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>The input place was matched with: ITS Leeds</span></div><div class='output co'>#&gt; <span class='message'>The chosen file was already detected in the download directory. Skip downloading.</span></div><div class='output co'>#&gt; <span class='message'>Start with the vectortranslate operations on the input file!</span></div><div class='output co'>#&gt; 0...10...20...30...40...50...60...70...80...90...100 - done.</div><div class='output co'>#&gt; <span class='message'>Finished the vectortranslate operations on the input file!</span></div><div class='output co'>#&gt; Reading layer `lines' from data source `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpvrQ0He/test_its-example.gpkg' using driver `GPKG'
#&gt; Simple feature collection with 189 features and 9 fields
#&gt; geometry type:  LINESTRING
#&gt; dimension:      XY
#&gt; bbox:           xmin: -1.562458 ymin: 53.80471 xmax: -1.548076 ymax: 53.81105
#&gt; geographic CRS: WGS 84</div><div class='input'><span class='fu'>oe_find</span><span class='op'>(</span><span class='st'>"ITS Leeds"</span>, provider <span class='op'>=</span> <span class='st'>"test"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>The input place was matched with: ITS Leeds</span></div><div class='output co'>#&gt; [1] "/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpvrQ0He/test_its-example.gpkg"   
#&gt; [2] "/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpvrQ0He/test_its-example.osm.pbf"</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>oe_find</span><span class='op'>(</span><span class='st'>"Isle of Wight"</span><span class='op'>)</span>
<span class='fu'>oe_find</span><span class='op'>(</span><span class='st'>"Isle of Wight"</span>, download_if_missing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>oe_find</span><span class='op'>(</span><span class='st'>"Leeds"</span>, provider <span class='op'>=</span> <span class='st'>"bbbike"</span>, download_if_missing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andrea Gilardi, Robin Lovelace.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


